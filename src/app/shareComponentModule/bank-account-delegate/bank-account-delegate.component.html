<div class="row">
        <p class="serghat-main">
                مرحله ثبت نشانی
                <br>
                 لطفا مشخصات دارندگان حق برداشت را وارد نمایید.

        </p>
        <hr>
    </div>
    <form  [formGroup]="requestForm" class="simple-form"  *ngIf="showNewRequest"  (ngSubmit)="onSubmit()">
            <h3 style="text-align: center;">ثبت مشخصات دارندگان حق برداشت </h3>
             <div class="panel panel-info">
                 <div class="panel-heading clearfix">
                     <i class="icon-calendar"></i>
                     <h3 class="panel-title"></h3>
                 </div>

                 <div class="panel-body">



                     <div class="row">
                         <div class="col-lg-6 col-sm-12">
                                <div class="input-group">
                                        <span class="input-group-addon">نــــــام</span>
                                        <input type="text" formControlName="fullName"  [(ngModel)]="bankItem.fullName"   required  class="form-control" />
                                    </div>
                                    <div *ngIf="submitted && ctrl.fullName.errors" class="invalid-feedback">
                                             <div *ngIf="submitted && ctrl.fullName.errors.required" class="fontColorError">فیلد نـــام الزامی است</div>
                                     </div>
                         </div>

                         <div class="col-lg-6 col-sm-12">

                                 <div class="input-group">
                                         <span class="input-group-addon">ســـــمـــــت</span>
                                         <app-positions-combo-box type="text" formControlName="position"    [(ngModel)]="bankItem.position"   required   ></app-positions-combo-box>
                                     </div>
                                     <div *ngIf="submitted && ctrl.position.errors" class="invalid-feedback">
                                              <div *ngIf="submitted && ctrl.position.errors.required" class="fontColorError">فیلد سمت الزامی است</div>
                                      </div>
                             </div>
                         </div>

                     <br />

                     <div class="row">
                            <div class="col-lg-6 col-sm-12">

                                    <div class="input-group">
                                            <span class="input-group-addon">نــام پدر</span>
                                            <input type="text" formControlName="fatherName"  [(ngModel)]="bankItem.fatherName"   required  class="form-control" />
                                        </div>
                                        <div *ngIf="submitted && ctrl.fatherName.errors" class="invalid-feedback">
                                                 <div *ngIf="submitted && ctrl.fatherName.errors.required" class="fontColorError">فیلد نــام پدر الزامی است</div>
                                         </div>
                                </div>


                                        <div class="col-lg-6 col-sm-12">
                                                <div class="input-group">
                                                    <div class="input-group">
                                                        <span class="input-group-addon" style="font-size: 9px">تاریخ تولد</span>
                                                        <dp-date-picker
                                                         style="padding-left: 30px"
                                                        dir="rtl"
                                                        formControlName="birthDate"
                                                        mode="day"
                                                        [(ngModel)]="dateObject"
                                                        placeholder="تاریخ تولد"
                                                        theme="dp-material">
                                                    </dp-date-picker>
                                                            </div>
                                                    </div>
                                                    <div *ngIf="submitted && ctrl.birthDate.errors" class="invalid-feedback">
                                                            <div *ngIf="submitted && ctrl.birthDate.errors.required" class="fontColorError">فیلد تاریخ تولد الزامی است</div>
                                                     </div>
                                        </div>

                        </div>


                        <br />

                        <div class="row">
                                <div class="col-lg-6 col-md-6 col-xs-12 col-sm-12">
                                        <div class="input-group">
                                        <span class="input-group-addon">کد ملی</span>
                                    <input type='text'   [imask]="{mask: '00000000000'}" [(ngModel)]="bankItem.nationalCode" class="form-control" formControlName="nationalCode"  required type="text"   >
                                        </div>
                                        <div *ngIf="submitted && ctrl.nationalCode.errors" class="invalid-feedback">
                                            <div *ngIf="submitted && ctrl.nationalCode.errors.required" class="fontColorError">فیلد کــد مــلی الزامی است</div>
                                     </div>
                                </div>
                                   <div class="col-lg-6 col-sm-12">

                                           <div class="input-group">
                                                   <span class="input-group-addon">کد پستی</span>
                                                   <input type='text'  [imask]="{mask: '0000000000000'}" [(ngModel)]="bankItem.postalCode" class="form-control" formControlName="postalCode"  required formControlName="postalCode"
                                                        required   />
                                               </div>
                                               <div *ngIf="submitted && ctrl.postalCode.errors" class="invalid-feedback">
                                                        <div *ngIf="submitted && ctrl.postalCode.errors.required" class="fontColorError">فیلد کد پستی الزامی است</div>
                                                </div>
                                       </div>
                           </div>

                    <br />
                     <div class="row">
                        <div class="col-lg-12 col-sm-12">

                            <div class="input-group">
                                    <span class="input-group-addon">نشانی(محل سکونت)</span>
                                    <textarea rows="4" cols="50" class="form-control"  formControlName="address"  [(ngModel)]="bankItem.address"
                                      required  class="form-control" ></textarea>

                                </div>
                                <div *ngIf="submitted && ctrl.address.errors" class="invalid-feedback">
                                         <div *ngIf="submitted && ctrl.address.errors.required" class="fontColorError">فیلد نشانی الزامی است</div>
                                 </div>
                        </div>



                     </div>
                     <br />

                 </div>
                 <br />



                 <div class="row">
                     <div class="col-md-12 col-sm-12 col-xs-12">
                         <div class="col-xs-6 col-md-6">
                             <input
                                 (click)="onSubmit()"
                                 [disabled]="!requestForm.valid" value="ذخیره"
                                 class="btn btn-success btn-block btn-lg">
                         </div>
                         <div class="col-xs-6 col-md-6">
                             <a  (click)="cancel()"  class="btn btn-danger btn-block btn-lg">انصراف</a>
                         </div>
                     </div>
                 </div>
                 <br />



                 </div>
                 </form>
                 <div *ngIf="!showNewRequest" >
                        <div class="row"  >
                           <div class="col-md-12 col-sm-12 col-xs-12">
                           <kendo-grid
                           [data]="gridDataCollection"
                           (selectionChange)="selected($event)"
                           [resizable]="true"
                           [sortable]="{ mode: 'multiple' }"
                           [selectable]="{ mode: 'single' }"
                           [sortable]="{
                               allowUnsort: true,
                               mode: 'multiple'
                           }"
                           [height]="200"
                       >

                       <kendo-grid-messages
                       noRecords="رکوردی برای نمایش یافت نشد!"
                       pagerItems="کل رکورد"
                       pagerOf="از"
                       sortAscending="صعودی"
                       sortDescending="نزولی"
                       filter="جستجو"
                       columns="انتخاب سر ستون"
                       columnsApply="اعمال"
                       columnsReset="باز نشانی"
                   >
                   </kendo-grid-messages>

                           <ng-template kendoGridToolbarTemplate>
                            <button
                            (click)="createNewRequest()"
                            class="btn btn-default btn-block"
                            type="button"
                        ><i class="fa fa-plus" aria-hidden="true"></i>

                            ایجاد
                        </button>
                           </ng-template>

                           <kendo-grid-column
                               field="fullName"
                               title="نام"
                               [filterable]="false"
                           >
                           </kendo-grid-column>

                           <kendo-grid-column
                           field="position.name"
                           title="سمت"
                           [filterable]="false"
                           >
                               </kendo-grid-column>

                               <kendo-grid-column
                               field="fatherName"
                               title="نام پدر"
                               [filterable]="false"
                           >
                           </kendo-grid-column>

                           <kendo-grid-column
                           field="nationalCode"
                           title="کد ملی"
                           [filterable]="false"
                           >
                           </kendo-grid-column>



                           <kendo-grid-column field="عملیات" [filterable]="false" width="120">
                               <ng-template kendoGridCellTemplate let-dataItem>
                                   <div class="row" style="margin-right: 1px">
                                       <button
                                           type="button"
                                           class="btn btn-block btn-circle"
                                           [disabled]="disableShowBtn"
                                           matTooltip="ویرایش"
                                           (click)="editSelectedAddress()">
                                           <i class="fa fa-pencil"></i>
                                       </button>
                                       <button
                                           type="button"
                                           (click)="deleteSelectedAddress()"
                                           class="btn btn-info  btn-circle"
                                           [disabled]="disableShowBtn">
                                           <i class="fa fa-trash-o"></i>
                                       </button>

                                   </div>
                               </ng-template>
                           </kendo-grid-column>


                       </kendo-grid>
                       </div>
                    </div>
                   <br>

                        <div class="row">
                           <div class="col-md-12 col-sm-12 col-xs-12">
                               <div class="col-xs-6 col-md-6">
                                   <a
                                       (click)="onNext()"
                                       class="btn btn-success btn-block btn-lg">مرحله بعد</a>
                               </div>
                               <div class="col-xs-6 col-md-6">
                                   <a (click)="onPrevious()" class="btn btn-danger btn-block btn-lg">مرحله قبل</a>
                               </div>
                           </div>
                       </div>
                       <br />
                   </div>

